<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Informes - SeguriPlus</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.administradores/informes.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <aside class="sidebar">
    <nav>
      <ul>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="seguros.html">Seguros</a></li>
        <li><a href="clientes.html">Clientes</a></li>
        <li><a href="polizas.html">Pólizas</a></li>
        <li><a href="pagos.html">Pagos</a></li>
        <li><a href="informes.html" class="active">Informes</a></li>
      </ul>
    </nav>
  </aside>


  <main class="content">
    <header class="top-bar">
      <h1>Informes y Estadísticas</h1>
      <a href="dashboard.html">Volver al Dashboard</a>
    </header>

    <section class="filtros-section">
      <h2>Filtros de informe</h2>
      <form id="filtrosForm">
        <div class="fila-filtros">
          <div>
            <label>Tipo de seguro</label>
            <select name="tipoSeguro">
              <option value="">Todos</option>
              <option>Vida</option>
              <option>Automóvil</option>
              <option>Hogar</option>
              <option>Salud</option>
            </select>
          </div>

          <div>
            <label>Cliente</label>
            <select name="cliente">
              <option value="">Todos</option>
            </select>
          </div>

          <div>
            <label>Región</label>
            <select name="region">
              <option value="">Todas</option>
              <option>Norte</option>
              <option>Sur</option>
              <option>Este</option>
              <option>Oeste</option>
            </select>
          </div>

          <div>
            <label>Fecha desde</label>
            <input type="date" name="fechaDesde"/>
          </div>

          <div>
            <label>Fecha hasta</label>
            <input type="date" name="fechaHasta"/>
          </div>
        </div>

        <div class="botones-filtros">
          <button type="submit">Generar informe</button>
          <button type="button" id="btnDescargarTXT">Descargar TXT</button>
        </div>
      </form>
    </section>


    <section class="stats-section">
      <h2>Estadísticas rápidas</h2>
      <div class="cards-grid">
        <div class="card">
          <h3>Renovaciones</h3>
          <p class="num" id="stsRenov">0</p>
        </div>
        <div class="card">
          <h3>Cancelaciones</h3>
          <p class="num" id="stsCancel">0</p>
        </div>
        <div class="card">
          <h3>Pagos atrasados</h3>
          <p class="num" id="stsAtraso">0</p>
        </div>
        <div class="card">
          <h3>Seguro más vendido</h3>
          <p class="num" id="stsTop">-</p>
        </div>
      </div>
    </section>

    <section class="grafico-section">
      <h2>Ventas por tipo de seguro</h2>
      <canvas id="chartVentas" width="400" height="200"></canvas>
    </section>


    <section class="tabla-section">
      <h2>Resultados del informe</h2>
      <table id="tblResultados">
        <thead>
          <tr>
            <th>Tipo</th>
            <th>Cliente</th>
            <th>Región</th>
            <th>Fecha</th>
            <th>Monto ($)</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <p class="total"><strong>Total ventas: $<span id="totalVentas">0</span></strong></p>
    </section>
  </main>
  <footer class="bottom-nav">
    <a href="dashboard.html">Inicio</a>
    <a href="ayuda.html">Ayuda</a>
    <a href="contacto.html">Contacto</a>
    <a href="logout.html">Cerrar sesión</a>
  </footer>

  <script src="../js/informes.js"></script>
</body>
</html>
